<head>
	<title>Book Archive</title>
</head>

<div ng-app="myApp" ng-controller="listController as ctrl">

<div  class="belch">
	
	<h2>List of Favorite Books</h2><BR>
    <form  name="bookForm" ng-model="bookForm">
    <br><br><label>Title:  <input ng-model="title" type="text" name="title" required="required"/></label><br>
    	<label>Series:  <input ng-model="series" type="text" name="series"/></label><br>
        <label>Author:  <input ng-model="author" type="text" name="author" required="required"/></label><br>
        <label>Illustrator:  <input ng-model="illustrator" type="text" name="illustrator" /></label><br>
        <label>Genre:  <input ng-model="genre" type="text" name="genre" /></label><br>
        
        <br><br><input *ngIf="!book.id" type="submit" (click)="onSubmit()" value="Submit new book" />
		<input *ngIf="book.id" type="submit" ng-click="ctrl.update(book)" value="Update book" />

        
        <p *ngIf="isError" style="color: red">{{bookError}}</p>
    </form><br>
</div>
<div class="card-body">
    <div class="table-responsive">
	    <table class="table mb-0">
	        <thead>
		        <tr>
                    <th>Book Id</th>
                    <th>Title</th>
                    <th>Series</th>
                    <th>Author</th>
                    <th>Illustrator</th>
                    <th>Genre</th>
                </tr>
                </thead>
                <tbody>
                    <div>
                        <tr *ngFor="let book of books">
                            <td>{{book.id}}</td>
                            <td>{{book.title}}</td>
                            <td>{{book.series}}</td>
                            <td>{{book.author}}</td>
                            <td>{{book.illustrator}}</td>
                            <td>{{book.genre}}</td>
                            <td>
                                <button type="button" ng-click="ctrl.edit(book)" class="btn btn-success custom-width">Edit</button>
                                <button type="button" ng-click="ctrl.remove(book)" class="btn btn-danger custom-width">Remove</button>
                            </td>
                        </tr>
                    </div>		
                </tbody>
            </table>
        </div>
    </div>
</div>